"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
exports.__esModule = true;
exports.default = createConnectedRouter;
var _objectWithoutPropertiesLoose2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutPropertiesLoose"));
var _react = _interopRequireDefault(require("react"));
var _reactRedux = require("react-redux");
var _createBaseRouter = _interopRequireDefault(require("./createBaseRouter"));
var _jsxRuntime = require("react/jsx-runtime");
const _excluded = ["getFound"];
function createConnectedRouter(_ref) {
  let {
      getFound = ({
        found
      }) => found
    } = _ref,
    options = (0, _objectWithoutPropertiesLoose2.default)(_ref, _excluded);
  const Router = (0, _createBaseRouter.default)(options);
  const getFoundState = state => {
    const {
      match,
      resolvedMatch
    } = getFound(state);
    return {
      match,
      resolvedMatch
    };
  };
  function ConnectedRouter(props) {
    const store = (0, _reactRedux.useStore)();
    const foundState = (0, _reactRedux.useSelector)(getFoundState, _reactRedux.shallowEqual);
    return /*#__PURE__*/(0, _jsxRuntime.jsx)(Router, Object.assign({}, props, foundState, {
      store: store
    }));
  }
  return ConnectedRouter;
}
module.exports = exports.default;